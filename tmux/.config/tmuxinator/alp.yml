name: alp
root: ~/sikt/alp
tmux_command: TERM=xterm-256color tmux

on_project_start:
  - xdotool windowsize --usehints $(xdotool getactivewindow) 165 100%
  - xdotool key --window $(xdotool getactivewindow) "super+c"

on_project_exit:
  - xdotool windowsize --usehints $(xdotool getactivewindow) 82 100%

windows:
  - dev:
      layout: even-horizontal
      panes:
        - editor:
          - nvim Readme.md +"call personal#git#fugitive_toggle()" +"wincmd L"
  - servers:
      panes:
        - frontend:
          - cd packages/frontend
          - yarn start
        - mock:
          - cd packages/frontend
          - ALP_USERID=nin:00000000003 yarn start-mock-oauth2-server
        - dbalp:
          - docker-compose -f infrastructure/localdev/postgres.yaml up
